# Пример Docker проекта для Хакатона 2023

Для решения задачи отборочного этапа Хакатона 2023 вам необходимо собрать Docker контейнер с вашей программой. В качестве входных данных вам предоставят файл `input.webm`, содержащий 3 сцены путешествия по дороге. Ваш алгоритм должен выполнить бинарную сегментацию дорожного полотна (определить все пиксели, содержащие дорогу), представить их в виде чёрно-белой маски, где белому цвету соответствует дорога, а чёрному — всё остальное и записать в CSV таблицу с именем файла `output.csv`, содержащий столбцы:

| ImageID | EncodedPixels |
|---|---|
|input.webm_1|255 8 269 5 279 5 438 3 477 3...|
|input.webm_2|265 1 473 2 145 2 154 1 234 1...|

- где ImageID - название видео и номер кадра в виде `input.webm_1234`,
- EncodedPixels - маска дороги, закодированная в RLE (Run-length encoding).

Данный проект предоставляет собой основу для сборки контейнера. В качестве системы используется Ubuntu 18.04 (bionic), она же будет использоваться на самом мероприятии. Разрешается использовать вычисления на CUDA, а также другие дистрибутивы GNU/Linux, но рекомендуется избегать вычислительно интенсивных решений, т.к. производительность вашей программы влияет на общую оценку.

Обмен файлами с Docker контейнером осуществляется посредством монтирования папки из основной ОС в Docker контейнер. В файле Makefile можно настроить, какая папка из ОС будет пробрасываться в Docker контейнер, а также настроить имя контейнера. Также в этом файле описаны сами команды в чистом виде, если это необходимо. Имя входного файла должно быть строго `input.webm`, а выходного - `output.csv`. Оба файла должны размещаться в папке `/mnt/` Docker контейнера. Это необходимо чтобы работу программы можно было проверить в автоматическом режиме на разных входных данных.

# Оценка
Работа будет оцениваться по точности и скорости выполнения. Точность оценивается методом сравнения с эталонной маской с помощью коэффициента Жаккара. Скорость работы определяется временем обработки программой видео. Для оценки будет использовано специальное видео, не распространяемое публично.

## Команды
Сборка:
```
make build
```

Запуск:
```
make run
```

Сборка с CUDA:
```
make build_cuda
```

Запуск с CUDA:
```
make run_cuda
```

Сборка с Pytorch:
```
make build_pytorch
```

Запуск с Pytorch:
```
make run_cuda
```

Запуск оболочки Bash:
```
make shell
```
